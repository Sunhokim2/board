<!DOCTYPE html>
<html lang="en">
<head th:replace="~{common/head}">

</head>
<body>
<div th:replace="~{common/header}">

</div>

<nav th:replace="~{common/nav}">

</nav>

<div class="container mt-5">
    <div class="card">
        <div class="card-body">
            <span class="badge bg-primary rounded-pill" th:text="${board.id} + '번'"></span>
            <h5 class="card-title" th:text="${board.title}"></h5>
            <h6 class="card-subtitle mb-2 text-muted" th:text="${board.getUser().name}"></h6>
            <p class="card-text" th:text="${board.content}"></p>
        </div>
    </div>
    <div>
        <ul class="nav justify-content-end">
            <li class="nav-item">
                <a class="nav-link" href="/board" id="list">목록</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:onclick="|location.href='/board/update?id=' + ${board.id}|" id="update">수정</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" id="delete" th:num="${board.id}">삭제</a>
            </li>
        </ul>
    </div>
</div>
<!--<div class="container mt-5">-->
<!--    <div class="card mb-4">-->
<!--        <div class="card-body">-->
<!--            <span class.="badge bg-secondary rounded-pill mb-2" th:text="${board.id} + '번'"></span> <h4-->
<!--                class="card-title" th:text="${board.title}"></h4> <h6 class="card-subtitle mb-2 text-muted">-->
<!--            작성자: <span th:text="${board.user?.name ?: '알 수 없음'}"></span></h6>-->
<!--            <p class="card-text mt-3" style="white-space: pre-wrap;" th:text="${board.content}"></p>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="d-flex justify-content-end mb-4"><a class="btn btn-secondary me-2" href="/board/list">목록</a> <a-->
<!--            th:if="${currentUser != null and currentUser.id == board.user?.id}"-->
<!--            class="btn btn-primary me-2" th:href="@{/board/update(id=${board.id})}">수정</a> <a-->
<!--            th:if="${currentUser != null and currentUser.id == board.user?.id}"-->
<!--            class="btn btn-danger" href="#" id="delete" th:data-board-id="${board.id}">삭제</a></div>-->

<!--    <hr>-->
<!--    <h5>댓글</h5>-->

<!--    <div id="comment-list" class="mb-4">-->
<!--        <div th:if="${#lists.isEmpty(comments)}" class="text-muted">-->
<!--            작성된 댓글이 없습니다.-->
<!--        </div>-->
<!--        <div th:each="comment : ${comments}" class="card mb-2">-->
<!--            <div class="card-body">-->
<!--                <p class="card-text mb-1" style="white-space: pre-wrap;" th:text="${comment.content}"></p>-->
<!--                <small class="text-muted">-->
<!--                    작성자: <span th:text="${comment.user?.name ?: '익명'}"></span> | 작성일: <span-->
<!--                        th:text="${#temporals.format(comment.createdDate, 'yyyy-MM-dd HH:mm')}"></span> </small>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div th:if="${currentUser != null}" class="card">-->
<!--        <div class="card-body">-->
<!--            <h5 class="card-title">댓글 작성</h5>-->
<!--            <div th:if="${errorMessage}" class="alert alert-danger" role="alert" th:text="${errorMessage}"></div>-->
<!--            <div th:if="${successMessage}" class="alert alert-success" role="alert" th:text="${successMessage}"></div>-->

<!--            <form th:action="@{/comment/add}" method="post">-->
<!--                <input type="hidden" name="boardId" th:value="${board.id}"/>-->
<!--                <div class="mb-3">-->
<!--                    <label for="comment-author" class="form-label">작성자</label>-->
<!--                    <input type="text" id="comment-author" class="form-control" th:value="${currentUser.name}" readonly>-->
<!--                </div>-->
<!--                <div class="mb-3">-->
<!--                    <label for="comment-content" class="form-label">내용</label>-->
<!--                    <textarea class="form-control" id="comment-content" name="content" rows="3" required-->
<!--                              placeholder="댓글 내용을 입력하세요."></textarea>-->
<!--                </div>-->
<!--                <button type="submit" class="btn btn-primary">댓글 등록</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--<div th:unless="${currentUser != null}" class="alert alert-warning" role="alert">-->
<!--    댓글을 작성하려면 <a href="/login">로그인</a>이 필요합니다.-->
<!--</div>-->


<script>
    document.querySelector('#delete').addEventListener('click', (e) => {
        e.preventDefault();
        if (confirm('삭제하시겠습니까?')) {
            const num = e.target.getAttribute('num');
            location = `/board/delete/${num}`;
        }
    });
</script>

<div th:replace="~{common/footer}">
</div>

</body>
</html>